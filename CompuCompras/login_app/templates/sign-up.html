{%extends 'base_wf.html'%}

    {%block content%}
    
    <main>
        <form>
            
            <label for="username">Nombre:</label>
            <input type="text" id="username" placeholder="Ingrese usuario" name="username" required>
            <label for="email">Correo electrónico:</label>
            <input type="email" placeholder="Ingrese Email" id="email">
            <label for="password">Contraseña:</label>
            <input type="password" placeholder="Ingrese Password" id="password">
            <button type="submit">Crear Cuenta</button>

            <!-- <label for="username">Nombre:</label>
            <input type="text" id="username" name="username" required><br>
            <label for="email">Correo electrónico:</label>
            <input type="email" id="email" name="email" email required><br>
            <label for="password">Contraseña:</label>
            <input type="password" id="password" name="password" pattern="(\w){8,20}" required><br>
            <label for="password_confirm">Confirmar contraseña:</label>
            <input type="password" id="password_confirm" name="password_confirm" required><br>
            <input type="submit" value="Registrarse" onclick="verificar()"> -->
        </form>
    </main>

    <script>
    const form = document.querySelector('form');
    form.addEventListener('submit', (event) => {
      event.preventDefault();

      const name = document.getElementById("username").value;
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;

      firebase.auth().createUserWithEmailAndPassword(email, password)
        .then((userCredential) => {
            return userCredential.user.updateProfile({
              displayName: name
            });
          })
        .then((userCredential) => {
          // La cuenta fue creada exitosamente, redirigir al usuario a la página principal
          alert('Usuario registrado correctamente.');
          window.location.href = "index.html";
        })
        .catch((error) => {
          // Hubo un error durante la creación de la cuenta, mostrar un mensaje de error al usuario
          const errorMessage = error.message;
          alert(errorMessage);
        });
        });
    </script>

{%endblock%}